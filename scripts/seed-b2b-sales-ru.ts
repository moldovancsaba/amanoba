/**
 * Seed: B2B Sales 2026 (RU) ‚Äì Days 1‚Äì2
 *
 * What:
 * - Creates (or updates) course `B2B_SALES_2026_30_RU`
 * - Seeds lessons for days 1‚Äì2 in Russian
 * - Seeds course-specific quiz questions per lesson
 *
 * Why:
 * - Provide a Russian version of the existing HU/EN Sales course
 * - Ensure it works with the current lesson/quiz runtime:
 *   - Lesson content is rendered as HTML (`dangerouslySetInnerHTML`)
 *   - Quiz pages fetch by `lesson.lessonId` (string), so QuizQuestion.lessonId must match that
 *
 * How to run:
 * - Ensure `.env.local` has `MONGODB_URI` and `DB_NAME=amanoba`
 * - Run: `npx tsx --env-file=.env.local scripts/seed-b2b-sales-ru.ts`
 */

import { config } from 'dotenv';
import { resolve } from 'path';

config({ path: resolve(process.cwd(), '.env.local') });

import mongoose from 'mongoose';
import { Brand, Course, Lesson, QuizQuestion, QuestionDifficulty } from '../app/lib/models';

async function connectDB() {
  const uri = process.env.MONGODB_URI;
  if (!uri) throw new Error('MONGODB_URI missing');

  const dbName = process.env.DB_NAME || 'amanoba';
  await mongoose.connect(uri, { dbName });
  console.log(`‚úÖ Connected to MongoDB (dbName=${dbName})`);
}

const COURSE_ID = 'B2B_SALES_2026_30_RU';
const SOURCE_COURSE = 'B2B_SALES_2026_30_EN';

type LessonSeed = {
  day: number;
  title: string;
  contentHtml: string;
  emailSubject: string;
  emailBodyHtml: string;
  quiz: Array<{ q: string; options: [string, string, string, string]; correct: number }>;
};

const lessonsRu: LessonSeed[] = [
  {
    day: 1,
    title: '–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è B2B‚Äë–ø—Ä–æ–¥–∞–∂–∞ –≤ 2026 –≥–æ–¥—É',
    contentHtml: `
<h1>–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è B2B‚Äë–ø—Ä–æ–¥–∞–∂–∞ –≤ 2026 –≥–æ–¥—É</h1>
<p><em>–ü—Ä–æ–¥–∞–∂–∏ ‚Äî —ç—Ç–æ –ø–æ–º–æ—â—å –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏—è –∏ —Å–Ω–∏–∂–µ–Ω–∏–µ —Ä–∏—Å–∫–∞, –∞ –Ω–µ ‚Äú–ø–∏—Ç—á‚Äù. –°–µ–≥–æ–¥–Ω—è –º—ã –∑–∞–¥–∞—ë–º –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ä–∞–º–∫—É –Ω–∞ –≤–µ—Å—å –∫—É—Ä—Å.</em></p>
<hr />

<h2>–¶–µ–ª—å –¥–Ω—è</h2>
<ul>
  <li>–°—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤ 1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ —Ü–µ–ª—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π B2B‚Äë–ø—Ä–æ–¥–∞–∂–∏.</li>
  <li>–†–∞—Å–ø–æ–∑–Ω–∞—Ç—å 3 —Ç–∏–ø–∏—á–Ω—ã—Ö –º–∏—Ñ–∞ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö –∏ –∑–∞–º–µ–Ω–∏—Ç—å –∏—Ö —Ä–∞–±–æ—á–∏–º–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏.</li>
  <li>–°–æ–±—Ä–∞—Ç—å –º–∏–Ω–∏‚Äë–º–µ—Ç—Ä–∏–∫–∏ –Ω–µ–¥–µ–ª–∏, —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ–º, –∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ–º.</li>
  <li>–°–æ–∑–¥–∞—Ç—å ‚Äú–ö–∞—Ä—Ç—É —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–¥–µ–ª–∫–∏‚Äù –¥–ª—è 1 —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ª–∏–¥–∞/–∞–∫–∫–∞—É–Ω—Ç–∞.</li>
</ul>
<hr />

<h2>–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ</h2>
<ul>
  <li>–ù–µ–≤–µ—Ä–Ω–∞—è –º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å ‚Üí –Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è ‚Üí –Ω–µ–≤–µ—Ä–Ω—ã–µ –≤—ã–≤–æ–¥—ã.</li>
  <li>–ü–æ–∫—É–ø–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–µ–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ ‚Äî –Ω–µ —Å–ª—É—à–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.</li>
  <li>–†–æ—Å—Ç –≤ B2B —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞.</li>
</ul>
<hr />

<h2>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ</h2>
<h3>A) –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –∫ 2026</h3>
<ul>
  <li><strong>–†–µ—à–µ–Ω–∏—è —Å—Ç–∞–ª–∏ ‚Äú–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–º–∏‚Äù</strong>: –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–æ–ª–µ–π, –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤, —Ä–∞–∑–Ω—ã–µ —Ä–∏—Å–∫–∏.</li>
  <li><strong>–ü–æ–∫—É–ø–∞—Ç–µ–ª—å –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω</strong>: –æ–Ω —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç, —á–∏—Ç–∞–µ—Ç –æ—Ç–∑—ã–≤—ã, —Å–º–æ—Ç—Ä–∏—Ç –¥–µ–º–æ —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤.</li>
  <li><strong>–¶–µ–Ω–∞ –æ—à–∏–±–∫–∏ –≤—ã—Ä–æ—Å–ª–∞</strong>: –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –≤–ª–∏—è–µ—Ç –Ω–∞ KPI, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏ –∏ –∫–∞—Ä—å–µ—Ä—É –õ–ü–†.</li>
  <li><strong>–û—Ç –ø—Ä–æ–¥–∞–≤—Ü–∞ –∂–¥—É—Ç —è—Å–Ω–æ—Å—Ç–∏</strong>: —Ä–∞–º–∫–∞, –∫—Ä–∏—Ç–µ—Ä–∏–∏, –ø–ª–∞–Ω, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∏—Å–∫–æ–≤.</li>
</ul>

<h3>B) –ù–æ–≤–∞—è —Ä–æ–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞</h3>
<p><strong>–í—ã –Ω–µ ‚Äú—É–±–µ–∂–¥–∞–µ—Ç–µ‚Äù. –í—ã —Å–Ω–∏–∂–∞–µ—Ç–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç—å.</strong></p>
<ul>
  <li>–ü–æ–º–æ–≥–∞–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –ø—Ä–æ–±–ª–µ–º—É, –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞.</li>
  <li>–°—Ç—Ä–æ–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å: —á—Ç–æ –¥–µ–ª–∞–µ–º –¥–∞–ª—å—à–µ, –∫—Ç–æ —É—á–∞—Å—Ç–≤—É–µ—Ç, –∫–∞–∫–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –Ω—É–∂–Ω—ã.</li>
  <li>–î–µ–ª–∞–µ—Ç–µ —Ä–∏—Å–∫ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–º: –ø–∏–ª–æ—Ç, security‚Äëreview, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞, ROI‚Äë–∫–µ–π—Å.</li>
</ul>

<h3>C) 3 –º–∏—Ñ–∞ –∏ –∑–∞–º–µ–Ω–∞ –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø</h3>
<ul>
  <li><strong>–ú–∏—Ñ:</strong> ‚Äú–ì–ª–∞–≤–Ω–æ–µ ‚Äî —Ö–æ—Ä–æ—à–æ –ø—Ä–µ–∑–µ–Ω—Ç–æ–≤–∞—Ç—å‚Äù. <strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> ‚Äú–ì–ª–∞–≤–Ω–æ–µ ‚Äî —Ö–æ—Ä–æ—à–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Ä–µ—à–µ–Ω–∏—è‚Äù.</li>
  <li><strong>–ú–∏—Ñ:</strong> ‚Äú–°–∫–∏–¥–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–¥–µ–ª–∫—É‚Äù. <strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> ‚Äú–°–¥–µ–ª–∫—É –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —è—Å–Ω—ã–π next step + —Å–Ω—è—Ç—ã–µ —Ä–∏—Å–∫–∏ + –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å‚Äù.</li>
  <li><strong>–ú–∏—Ñ:</strong> ‚Äú–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç—å —Å –æ–¥–Ω–∏–º —á–µ–ª–æ–≤–µ–∫–æ–º‚Äù. <strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> ‚Äú–ù—É–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å DMU: –±–∏–∑–Ω–µ—Å‚Äë–õ–ü–†, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, IT/–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —Ñ–∏–Ω–∞–Ω—Å—ã, —é—Ä–∏—Å—Ç—ã‚Äù.</li>
</ul>
<hr />

<h2>–ü—Ä–∏–º–µ—Ä—ã</h2>
<h3>–ü—Ä–∏–º–µ—Ä 1 ‚Äî ‚Äú–∫–∞—Ç–∞–ª–æ–≥‚Äù vs ‚Äú—Ä–µ—à–µ–Ω–∏–µ‚Äù</h3>
<ul>
  <li><strong>–ö–∞—Ç–∞–ª–æ–≥:</strong> ‚Äú–£ –Ω–∞—Å 40 —Ñ—É–Ω–∫—Ü–∏–π, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, –æ—Ç—á—ë—Ç—ã‚Ä¶‚Äù</li>
  <li><strong>–†–µ—à–µ–Ω–∏–µ:</strong> ‚Äú–°–æ–≥–ª–∞—Å—É–µ–º –∫—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ –ø–∏–ª–æ—Ç–∞: (1) –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–∫–∏, (2) —Ç–æ—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, (3) —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ò–ë. –ó–∞—Ç–µ–º ‚Äî –ø–ª–∞–Ω –Ω–∞ 2 –Ω–µ–¥–µ–ª–∏ –∏ —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.‚Äù</li>
</ul>

<h3>–ü—Ä–∏–º–µ—Ä 2 ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–æ–º</h3>
<p>–ö—Ä—É–ø–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –±–æ–∏—Ç—Å—è ‚Äú—Å–ª–æ–º–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã‚Äù. –í—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç–µ:</p>
<ul>
  <li>–ø–∏–ª–æ—Ç –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º —Å–µ–≥–º–µ–Ω—Ç–µ,</li>
  <li>—á–µ–∫‚Äë–ª–∏—Å—Ç —Ä–∏—Å–∫–æ–≤ (—é—Ä–∏—Å—Ç—ã/–ò–ë/IT),</li>
  <li>–ø–∏—Å—å–º–µ–Ω–Ω—ã–π –ø–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Å—Ç–æ—Ä–æ–Ω.</li>
</ul>
<hr />

<h2>–ü—Ä–∞–∫—Ç–∏–∫–∞ 1 ‚Äî ‚Äú–ö–∞—Ä—Ç–∞ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–¥–µ–ª–∫–∏‚Äù (10 –º–∏–Ω—É—Ç)</h2>
<p>–í–æ–∑—å–º–∏—Ç–µ 1 –ª–∏–¥/–∞–∫–∫–∞—É–Ω—Ç –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:</p>
<ul>
  <li><strong>ICP</strong>: –∫–∞–∫–∞—è –∫–æ–º–ø–∞–Ω–∏—è –∏ –ø–æ—á–µ–º—É —Å–µ–π—á–∞—Å.</li>
  <li><strong>–ì–∏–ø–æ—Ç–µ–∑–∞ –ø—Ä–æ–±–ª–µ–º—ã</strong>: —á—Ç–æ –±–æ–ª–∏—Ç –∏ —á–µ–º —ç—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è.</li>
  <li><strong>DMU</strong>: –∫—Ç–æ –≤–ª–∏—è–µ—Ç (–º–∏–Ω–∏–º—É–º 3 —Ä–æ–ª–∏).</li>
  <li><strong>–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞</strong>: –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç –ø–æ–π–º—ë—Ç, —á—Ç–æ ‚Äú—Å—Ä–∞–±–æ—Ç–∞–ª–æ‚Äù.</li>
  <li><strong>–ì–ª–∞–≤–Ω—ã–π —Ä–∏—Å–∫</strong>: —á—Ç–æ –º–æ–∂–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–¥–µ–ª–∫—É.</li>
  <li><strong>Next step</strong>: –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ + –¥–∞—Ç–∞.</li>
</ul>

<h2>–ü—Ä–∞–∫—Ç–∏–∫–∞ 2 ‚Äî –º–∏–Ω–∏‚Äë–º–µ—Ç—Ä–∏–∫–∏ –Ω–µ–¥–µ–ª–∏ (5 –º–∏–Ω—É—Ç)</h2>
<p>–°–æ—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–æ—Å—Ç—É—é —Ç–∞–±–ª–∏—Ü—É –Ω–∞ –Ω–µ–¥–µ–ª—é:</p>
<ul>
  <li>—Å–∫–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –≤ ICP,</li>
  <li>—Å–∫–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–æ –≤—Å—Ç—Ä–µ—á,</li>
  <li>—Å–∫–æ–ª—å–∫–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ next step —Å –¥–∞—Ç–æ–π,</li>
  <li>—Å–∫–æ–ª—å–∫–æ —Å–¥–µ–ª–æ–∫ –ø–µ—Ä–µ—à–ª–æ –≤ —Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø.</li>
</ul>
<hr />

<h2>–ü–æ–¥—Å–∫–∞–∑–∫–∞</h2>
<p><strong>–ï—Å–ª–∏ –ø–æ—Å–ª–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –Ω–µ—Ç next step —Å –¥–∞—Ç–æ–π ‚Äî —ç—Ç–æ –Ω–µ —ç—Ç–∞–ø, –∞ –Ω–∞–¥–µ–∂–¥–∞.</strong> –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –≤—Å—Ç—Ä–µ—á–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –∫—Ä–∞—Ç–∫–∏–π –∏—Ç–æ–≥ (MoM): —á—Ç–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ, –∫–∞–∫–∏–µ —Ä–∏—Å–∫–∏, –∫—Ç–æ —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏ –∫–æ–≥–¥–∞.</p>
<hr />

<h2>–î–æ–ø. –º–∞—Ç–µ—Ä–∏–∞–ª—ã (–ø–æ –∂–µ–ª–∞–Ω–∏—é)</h2>
<ul>
  <li>–í–∏–∫–∏–ø–µ–¥–∏—è (RU) ‚Äî B2B: <a href="https://ru.wikipedia.org/wiki/B2B" target="_blank" rel="noopener noreferrer">https://ru.wikipedia.org/wiki/B2B</a></li>
  <li>HubSpot ‚Äî Sales Process Guide: <a href="https://blog.hubspot.com/sales/sales-process" target="_blank" rel="noopener noreferrer">https://blog.hubspot.com/sales/sales-process</a></li>
  <li>Gartner (EN) ‚Äî –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ B2B Sales: <a href="https://www.gartner.com/en/sales" target="_blank" rel="noopener noreferrer">https://www.gartner.com/en/sales</a></li>
</ul>
`.trim(),
    emailSubject: 'B2B Sales 2026 (RU) ‚Äî –î–µ–Ω—å 1: —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ü–µ–ª—å –ø—Ä–æ–¥–∞–∂',
    emailBodyHtml: `
<h1>B2B Sales 2026 (RU) ‚Äî –î–µ–Ω—å 1</h1>
<p>–ü—Ä–æ–¥–∞–∂–∏ –≤ 2026 ‚Äî —ç—Ç–æ –ø–æ–º–æ—â—å –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏—è –∏ —Å–Ω–∏–∂–µ–Ω–∏–µ —Ä–∏—Å–∫–∞. –°–µ–≥–æ–¥–Ω—è –≤—ã:</p>
<ul>
  <li>–∑–∞—Ñ–∏–∫—Å–∏—Ä—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –º–µ–Ω—Ç–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å,</li>
  <li>–∑–∞–º–µ–Ω–∏—Ç–µ 3 –º–∏—Ñ–∞ —Ä–∞–±–æ—á–∏–º–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏,</li>
  <li>—Å–æ–∑–¥–∞–¥–∏—Ç–µ ‚Äú–ö–∞—Ä—Ç—É —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–¥–µ–ª–∫–∏‚Äù –∏ –º–∏–Ω–∏‚Äë–º–µ—Ç—Ä–∏–∫–∏ –Ω–µ–¥–µ–ª–∏.</li>
</ul>
<p>–û—Ç–∫—Ä–æ–π—Ç–µ —É—Ä–æ–∫ –∏ —Å–¥–µ–ª–∞–π—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫—É ‚Äî —ç—Ç–æ –±–∞–∑–∞ –≤—Å–µ–≥–æ –∫—É—Ä—Å–∞.</p>
`.trim(),
    quiz: [
      {
        q: '–ö–∞–∫–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –ª—É—á—à–µ –≤—Å–µ–≥–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ü–µ–ª—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π B2B‚Äë–ø—Ä–æ–¥–∞–∂–∏?',
        options: [
          '–ü–æ–∫–∞–∑–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–æ–¥—É–∫—Ç–∞',
          '–£–±–µ–¥–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –∫—É–ø–∏—Ç—å —á–µ—Ä–µ–∑ —Å–∫–∏–¥–∫—É',
          '–ü–æ–º–æ—á—å –∫–ª–∏–µ–Ω—Ç—É –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –∏ —Å–Ω–∏–∑–∏—Ç—å —Ä–∏—Å–∫',
          '–°–¥–µ–ª–∞—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –¥–ª–∏–Ω–Ω–µ–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤',
        ],
        correct: 2,
      },
      {
        q: '–ß—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–∑–Ω–∞–∫–æ–º ‚Äú—É–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ‚Äù –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ—Å–ª–µ –≤—Å—Ç—Ä–µ—á–∏?',
        options: [
          '–ï—Å—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ —Å –¥–∞—Ç–æ–π –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º–∏',
          '–ö–ª–∏–µ–Ω—Ç —Å–∫–∞–∑–∞–ª ‚Äú–º—ã –ø–æ–¥—É–º–∞–µ–º‚Äù',
          '–í—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –ø—Ä–∞–π—Å –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞',
          '–í—ã –¥–æ–±–∞–≤–∏–ª–∏ —Å–¥–µ–ª–∫—É –≤ CRM –±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤',
        ],
        correct: 0,
      },
      {
        q: '–ö–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –≤–º–µ—Å—Ç–æ –º–∏—Ñ–∞?',
        options: [
          '–°–∫–∏–¥–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–¥–µ–ª–∫—É',
          '–ì–ª–∞–≤–Ω–æ–µ ‚Äî –∫—Ä–∞—Å–∏–≤–æ –ø—Ä–µ–∑–µ–Ω—Ç–æ–≤–∞—Ç—å',
          '–ó–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–¥–µ–ª–∫—É —Å–Ω—è—Ç–∏–µ —Ä–∏—Å–∫–æ–≤ + –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å + next step',
          '–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç—å —Å –æ–¥–Ω–∏–º —á–µ–ª–æ–≤–µ–∫–æ–º',
        ],
        correct: 2,
      },
      {
        q: '–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –≤—Ö–æ–¥–∏—Ç—å –≤ ‚Äú–ö–∞—Ä—Ç—É —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–¥–µ–ª–∫–∏‚Äù (–º–∏–Ω–∏–º—É–º)?',
        options: [
          '–¢–æ–ª—å–∫–æ –±—é–¥–∂–µ—Ç –∏ —Å—Ä–æ–∫ –æ–ø–ª–∞—Ç—ã',
          '–¢–æ–ª—å–∫–æ —Å–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π –∏ —Å–∫–∏–¥–∫–∞',
          'ICP, –≥–∏–ø–æ—Ç–µ–∑–∞ –ø—Ä–æ–±–ª–µ–º—ã, DMU, –∫—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞, —Ä–∏—Å–∫, next step',
          '–¢–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞',
        ],
        correct: 2,
      },
    ],
  },
  {
    day: 2,
    title: '–ö–∞—Ä—Ç–∞ —Å–∏—Å—Ç–µ–º—ã B2B‚Äë–ø—Ä–æ–¥–∞–∂',
    contentHtml: `
<h1>–ö–∞—Ä—Ç–∞ —Å–∏—Å—Ç–µ–º—ã B2B‚Äë–ø—Ä–æ–¥–∞–∂</h1>
<p><em>–°–µ–≥–æ–¥–Ω—è –≤—ã –Ω–∞—Ä–∏—Å—É–µ—Ç–µ ‚Äú—Å–∫–≤–æ–∑–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç‚Äù —Å–¥–µ–ª–∫–∏: –æ—Ç –ø–æ–∏—Å–∫–∞ –¥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è ‚Äî –∏ –∑–∞–¥–∞–¥–∏—Ç–µ –µ–¥–∏–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —ç—Ç–∞–ø–æ–≤.</em></p>
<hr />

<h2>–¶–µ–ª—å –¥–Ω—è</h2>
<ul>
  <li>–°–æ–±—Ä–∞—Ç—å –∫–∞—Ä—Ç—É: <strong>sourcing ‚Üí qualification ‚Üí discovery ‚Üí proposal ‚Üí negotiation ‚Üí close ‚Üí expansion</strong>.</li>
  <li>–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞.</li>
  <li>–°–¥–µ–ª–∞—Ç—å –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç ‚ÄúSales System Map‚Äù –¥–ª—è –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã/–ø—Ä–æ–µ–∫—Ç–∞.</li>
</ul>
<hr />

<h2>–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ</h2>
<ul>
  <li>–ï–¥–∏–Ω—ã–π —è–∑—ã–∫ —Å–Ω–∏–∂–∞–µ—Ç —Ö–∞–æ—Å: —á—Ç–æ —Ç–∞–∫–æ–µ ‚ÄúSQL‚Äù, ‚Äú–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è‚Äù, ‚Äú—É—Å–ø–µ—à–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞‚Äù.</li>
  <li>–ë–µ–∑ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ —ç—Ç–∞–ø—ã –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –º–Ω–µ–Ω–∏—è, –∞ –ø—Ä–æ–≥–Ω–æ–∑ ‚Äî –≤ –≥–∞–¥–∞–Ω–∏–µ.</li>
  <li>–ö–∞—Ä—Ç–∞ ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è –º–µ—Ç—Ä–∏–∫, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –æ–±—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤.</li>
</ul>
<hr />

<h2>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ</h2>
<h3>–ë–ª–æ–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h3>
<ul>
  <li><strong>Sourcing</strong>: –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (inbound, —Å–ø–∏—Å–∫–∏, –ø–∞—Ä—Ç–Ω—ë—Ä—ã, —Å–æ–±—ã—Ç–∏—è, —Ä–µ—Ñ–µ—Ä–∞–ª—ã).</li>
  <li><strong>Qualification</strong>: –±—ã—Å—Ç—Ä—ã–π ‚Äú–¥–∞/–Ω–µ—Ç‚Äù –Ω–∞ ICP + —Ç—Ä–∏–≥–≥–µ—Ä + —Ä–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞.</li>
  <li><strong>Discovery</strong>: –¥–∏–∞–≥–Ω–æ–∑ + –∫—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ + DMU + —Ä–∏—Å–∫–∏.</li>
  <li><strong>Proposal</strong>: —Ä–µ—à–µ–Ω–∏–µ –ø–æ–¥ –∫—Ä–∏—Ç–µ—Ä–∏–∏, –ø–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è, ROI/–±–∏–∑–Ω–µ—Å‚Äë–∫–µ–π—Å, —É—Å–ª–æ–≤–∏—è.</li>
  <li><strong>Negotiation</strong>: —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏ (—é—Ä–∏—Å—Ç—ã/–ò–ë/–∑–∞–∫—É–ø–∫–∏), –ø–∞–∫–µ—Ç, —Å—Ä–æ–∫–∏, SLA.</li>
  <li><strong>Close</strong>: –ø–æ–¥–ø–∏—Å—å/–æ–ø–ª–∞—Ç–∞/—Å—Ç–∞—Ä—Ç, —Ñ–∏–∫—Å–∞—Ü–∏—è –ø–ª–∞–Ω–∞ –∑–∞–ø—É—Å–∫–∞.</li>
  <li><strong>Expansion</strong>: onboarding, adoption, upsell, –ø—Ä–æ–¥–ª–µ–Ω–∏–µ, –∫–µ–π—Å/—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø–µ—Ç–ª—è.</li>
</ul>

<h3>–ö—Ä–∏—Ç–µ—Ä–∏–∏ —ç—Ç–∞–ø–∞: –≤—Ö–æ–¥ –∏ –≤—ã—Ö–æ–¥</h3>
<p>–ß—Ç–æ–±—ã —ç—Ç–∞–ø—ã —Ä–∞–±–æ—Ç–∞–ª–∏, —É –∫–∞–∂–¥–æ–≥–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:</p>
<ul>
  <li><strong>–í—Ö–æ–¥</strong> (—á—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–∑–≤–µ—Å—Ç–Ω–æ/—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ),</li>
  <li><strong>–í—ã—Ö–æ–¥</strong> (–∫–∞–∫–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç/–¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—å —Ñ–∏–∫—Å–∏—Ä—É–µ–º),</li>
  <li><strong>–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥</strong> (–¥–∞—Ç–∞ + –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ).</li>
</ul>
<hr />

<h2>–ü—Ä–∏–º–µ—Ä ‚Äú–º–∏–Ω–∏‚Äë–∫–∞—Ä—Ç—ã‚Äù</h2>
<ul>
  <li><strong>Qualification ‚Üí –≤—Ö–æ–¥:</strong> –∫–æ–º–ø–∞–Ω–∏—è –≤ ICP + –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–π —Ç—Ä–∏–≥–≥–µ—Ä + –∫–æ–Ω—Ç–∞–∫—Ç —Ä–æ–ª–∏ ‚Äú–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/–∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä‚Äù.</li>
  <li><strong>Qualification ‚Üí –≤—ã—Ö–æ–¥:</strong> –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ discovery‚Äë–≤—Å—Ç—Ä–µ—á–∞ (–¥–∞—Ç–∞) + –≥–∏–ø–æ—Ç–µ–∑–∞ –ø—Ä–æ–±–ª–µ–º—ã –∑–∞–ø–∏—Å–∞–Ω–∞.</li>
  <li><strong>Discovery ‚Üí –≤—ã—Ö–æ–¥:</strong> –¥–æ–∫—É–º–µ–Ω—Ç —Å –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ —É—Å–ø–µ—Ö–∞ + —Å–ø–∏—Å–æ–∫ DMU + —Ä–∏—Å–∫–∏ + –ø–ª–∞–Ω –ø–∏–ª–æ—Ç–∞.</li>
</ul>
<hr />

<h2>–ü—Ä–∞–∫—Ç–∏–∫–∞ 1 ‚Äî –Ω–∞—Ä–∏—Å—É–π—Ç–µ —Å–≤–æ—é –∫–∞—Ä—Ç—É (15 –º–∏–Ω—É—Ç)</h2>
<ol>
  <li>–í–æ–∑—å–º–∏—Ç–µ –ª–∏—Å—Ç/–¥–æ—Å–∫—É –∏ –Ω–∞—Ä–∏—Å—É–π—Ç–µ 7 –±–ª–æ–∫–æ–≤ —Å–∏—Å—Ç–µ–º—ã.</li>
  <li>–î–ª—è –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ –Ω–∞–ø–∏—à–∏—Ç–µ 1 —Ñ—Ä–∞–∑—É ‚Äú—á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —ç—Ç–∞–ø–µ‚Äù.</li>
  <li>–î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç—Ä–∏–∫—É —ç—Ç–∞–ø–∞ (–ø—Ä–∏–º–µ—Ä: % –ø–µ—Ä–µ—Ö–æ–¥–∞, —Å—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, % —Å next step).</li>
</ol>

<h2>–ü—Ä–∞–∫—Ç–∏–∫–∞ 2 ‚Äî –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞ (10 –º–∏–Ω—É—Ç)</h2>
<p>–í—ã–±–µ—Ä–∏—Ç–µ 2 —ç—Ç–∞–ø–∞ –∏ –ø—Ä–æ–ø–∏—à–∏—Ç–µ:</p>
<ul>
  <li>–≤—Ö–æ–¥,</li>
  <li>–≤—ã—Ö–æ–¥,</li>
  <li>—Ç–∏–ø–æ–≤–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç (MoM, —Å–ø–∏—Å–æ–∫ —Ä–∏—Å–∫–æ–≤, –±–∏–∑–Ω–µ—Å‚Äë–∫–µ–π—Å, –ø–∏–ª–æ—Ç‚Äë–ø–ª–∞–Ω).</li>
</ul>
<hr />

<h2>–ü–æ–¥—Å–∫–∞–∑–∫–∞</h2>
<p><strong>–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ —Å–ø–æ—Ä–∏—Ç –æ —Å—Ç–∞—Ç—É—Å–µ —Å–¥–µ–ª–∫–∏ ‚Äî –∑–Ω–∞—á–∏—Ç, —É —ç—Ç–∞–ø–∞ –Ω–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤.</strong> –ö—Ä–∏—Ç–µ—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞—Å—Ç–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏, —á—Ç–æ–±—ã –¥–≤–∞ —á–µ–ª–æ–≤–µ–∫–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –ø—Ä–∏—à–ª–∏ –∫ –æ–¥–Ω–æ–º—É –≤—ã–≤–æ–¥—É.</p>
<hr />

<h2>–î–æ–ø. –º–∞—Ç–µ—Ä–∏–∞–ª—ã (–ø–æ –∂–µ–ª–∞–Ω–∏—é)</h2>
<ul>
  <li>HubSpot ‚Äî Sales Pipeline Stages: <a href="https://blog.hubspot.com/sales/sales-pipeline-stages" target="_blank" rel="noopener noreferrer">https://blog.hubspot.com/sales/sales-pipeline-stages</a></li>
  <li>–í–∏–∫–∏–ø–µ–¥–∏—è (RU) ‚Äî CRM: <a href="https://ru.wikipedia.org/wiki/CRM" target="_blank" rel="noopener noreferrer">https://ru.wikipedia.org/wiki/CRM</a></li>
</ul>
`.trim(),
    emailSubject: 'B2B Sales 2026 (RU) ‚Äî –î–µ–Ω—å 2: –∫–∞—Ä—Ç–∞ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–¥–∞–∂',
    emailBodyHtml: `
<h1>B2B Sales 2026 (RU) ‚Äî –î–µ–Ω—å 2</h1>
<p>–°–µ–≥–æ–¥–Ω—è –≤—ã —Å–æ–±–µ—Ä—ë—Ç–µ ‚ÄúSales System Map‚Äù ‚Äî –∫–∞—Ä—Ç—É —ç—Ç–∞–ø–æ–≤ —Å–¥–µ–ª–∫–∏ –∏ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞.</p>
<ul>
  <li>–°–æ–≥–ª–∞—Å—É–µ—Ç–µ —ç—Ç–∞–ø—ã –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è</li>
  <li>–î–æ–±–∞–≤–∏—Ç–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã</li>
  <li>–°–¥–µ–ª–∞–µ—Ç–µ –æ—Å–Ω–æ–≤—É –¥–ª—è –º–µ—Ç—Ä–∏–∫ –∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è</li>
</ul>
`.trim(),
    quiz: [
      {
        q: '–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ ‚ÄúSales System Map‚Äù?',
        options: [
          '–ß—Ç–æ–±—ã –∑–∞–º–µ–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ —Ä–∏—Å–∫–∞–º–∏ –∫—Ä–∞—Å–∏–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º',
          '–ß—Ç–æ–±—ã —É –∫–æ–º–∞–Ω–¥—ã –±—ã–ª–∏ –µ–¥–∏–Ω—ã–µ —ç—Ç–∞–ø—ã –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏, –∞ –ø—Ä–æ–≥–Ω–æ–∑ —Å—Ç–∞–ª –∏–∑–º–µ—Ä—è–µ–º—ã–º',
          '–ß—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç—Ç–∞–ø–æ–≤ –¥–æ 20',
          '–ß—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å –≤–æ—Ä–æ–Ω–∫—É –æ—Ç —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞',
        ],
        correct: 1,
      },
      {
        q: '–ö–∞–∫–æ–π –Ω–∞–±–æ—Ä —ç—Ç–∞–ø–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–µ–µ –≤—Å–µ–≥–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç ‚Äú—Å–∫–≤–æ–∑–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç‚Äù B2B‚Äë—Å–¥–µ–ª–∫–∏?',
        options: [
          'Sourcing ‚Üí Qualification ‚Üí Discovery ‚Üí Proposal ‚Üí Negotiation ‚Üí Close ‚Üí Expansion',
          '–†–µ–∫–ª–∞–º–∞ ‚Üí –õ–∞–π–∫–∏ ‚Üí –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ‚Üí –ü–æ–∫—É–ø–∫–∞',
          '–°–∫–∏–¥–∫–∞ ‚Üí –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è ‚Üí –û–ø–ª–∞—Ç–∞',
          '–°–æ–∑–≤–æ–Ω ‚Üí –î–µ–º–æ ‚Üí –î–µ–º–æ ‚Üí –î–µ–º–æ',
        ],
        correct: 0,
      },
      {
        q: '–ß—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–∏–º ‚Äú–≤—ã—Ö–æ–¥–æ–º‚Äù –∏–∑ —ç—Ç–∞–ø–∞ Qualification?',
        options: [
          '–ï—Å—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è discovery‚Äë–≤—Å—Ç—Ä–µ—á–∞ —Å –¥–∞—Ç–æ–π + –∑–∞–ø–∏—Å–∞–Ω–∞ –≥–∏–ø–æ—Ç–µ–∑–∞ –ø—Ä–æ–±–ª–µ–º—ã',
          '–í—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –ø—Ä–∞–π—Å –∏ –∂–¥—ë—Ç–µ –æ—Ç–≤–µ—Ç–∞',
          '–ö–ª–∏–µ–Ω—Ç –ø–æ—Å—Ç–∞–≤–∏–ª ‚Äú–ª–∞–π–∫‚Äù',
          '–í—ã –¥–æ–±–∞–≤–∏–ª–∏ –ª–∏–¥ –≤ Excel –±–µ–∑ —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞',
        ],
        correct: 0,
      },
      {
        q: '–ö–∞–∫–æ–π —Å–∏–≥–Ω–∞–ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —É —ç—Ç–∞–ø–∞ –Ω–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤?',
        options: [
          '–ö–æ–º–∞–Ω–¥–∞ —Å–ø–æ—Ä–∏—Ç –æ —Å—Ç–∞—Ç—É—Å–µ —Å–¥–µ–ª–∫–∏ –∏ ‚Äú–∫—É–¥–∞ –µ—ë –ø–æ—Å—Ç–∞–≤–∏—Ç—å‚Äù',
          '–ï—Å—Ç—å —á–µ–∫‚Äë–ª–∏—Å—Ç –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞',
          '–ï—Å—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥',
          '–í—Å–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –ø–∏—Å—å–º–µ–Ω–Ω–æ',
        ],
        correct: 0,
      },
    ],
  },
];

async function upsertCourse() {
  const source = await Course.findOne({ courseId: SOURCE_COURSE });
  const fallbackBrand = source
    ? null
    : (await Brand.findOne({ slug: 'amanoba' })) || (await Brand.findOne({}));
  if (!source && !fallbackBrand) throw new Error('No brand found to create course');

  let course = await Course.findOne({ courseId: COURSE_ID });
  if (course) {
    console.log('‚úÖ Course already exists, updating...');
    course.name = 'B2B –ü—Ä–æ–¥–∞–∂–∏ 2026 ‚Äî –º–∞—Å—Ç–µ—Ä‚Äë–∫–ª–∞—Å—Å (30 –¥–Ω–µ–π) (RU)';
    course.description =
      '30‚Äë–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º B2B‚Äë–ø—Ä–æ–¥–∞–∂–∞–º: —Å–∏—Å—Ç–µ–º–Ω–∞—è –≤–æ—Ä–æ–Ω–∫–∞, —Ä–∞–±–æ—Ç–∞ —Å DMU, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏ –∏ —Ü–µ–Ω–Ω–æ—Å—Ç—å—é.';
    course.language = 'ru';
    course.isActive = true;
    course.metadata = {
      ...(course.metadata || {}),
      locale: 'ru',
      parentCourseId: SOURCE_COURSE,
    };
    await course.save();
    return course;
  }

  course = await Course.create({
    courseId: COURSE_ID,
    name: 'B2B –ü—Ä–æ–¥–∞–∂–∏ 2026 ‚Äî –º–∞—Å—Ç–µ—Ä‚Äë–∫–ª–∞—Å—Å (30 –¥–Ω–µ–π) (RU)',
    description:
      '30‚Äë–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º B2B‚Äë–ø—Ä–æ–¥–∞–∂–∞–º: —Å–∏—Å—Ç–µ–º–Ω–∞—è –≤–æ—Ä–æ–Ω–∫–∞, —Ä–∞–±–æ—Ç–∞ —Å DMU, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏ –∏ —Ü–µ–Ω–Ω–æ—Å—Ç—å—é.',
    language: 'ru',
    thumbnail: source?.thumbnail,
    durationDays: source?.durationDays ?? 30,
    isActive: true,
    requiresPremium: source?.requiresPremium ?? false,
    price: source?.price ?? { amount: 0, currency: 'USD' },
    brandId: source?.brandId ?? fallbackBrand!._id,
    pointsConfig: source?.pointsConfig ?? { completionPoints: 300, lessonPoints: 25, perfectCourseBonus: 200 },
    xpConfig: source?.xpConfig ?? { completionXP: 300, lessonXP: 25 },
    metadata: {
      ...source?.metadata,
      locale: 'ru',
      parentCourseId: SOURCE_COURSE,
    },
  });

  console.log('‚úÖ Created course', course.courseId);
  return course;
}

async function upsertLessons(courseId: mongoose.Types.ObjectId) {
  const sourceCourse = await Course.findOne({ courseId: SOURCE_COURSE });

  for (const lesson of lessonsRu) {
    const lessonId = `${COURSE_ID}_DAY_${lesson.day}`;
    const existing = await Lesson.findOne({ lessonId });

    const baseSource = sourceCourse
      ? await Lesson.findOne({ courseId: sourceCourse._id, dayNumber: lesson.day })
      : null;

    const pointsReward = baseSource?.pointsReward ?? 25;
    const xpReward = baseSource?.xpReward ?? 25;
    const quizConfig =
      baseSource?.quizConfig ?? { enabled: true, successThreshold: 80, questionCount: 4, poolSize: 4, required: true };

    const data = {
      lessonId,
      courseId,
      dayNumber: lesson.day,
      language: 'ru',
      title: lesson.title,
      content: lesson.contentHtml.trim(),
      emailSubject: lesson.emailSubject,
      emailBody: lesson.emailBodyHtml.trim(),
      quizConfig,
      pointsReward,
      xpReward,
      isActive: true,
      displayOrder: lesson.day,
      metadata: {
        estimatedMinutes: 20,
        tags: ['b2b', 'sales', 'ru'],
      },
    };

    if (existing) {
      await Lesson.updateOne({ lessonId }, data);
      console.log(`üîÅ Updated lesson ${lessonId}`);
    } else {
      await Lesson.create(data);
      console.log(`‚úÖ Created lesson ${lessonId}`);
    }
  }
}

async function upsertQuizQuestions(courseObjectId: mongoose.Types.ObjectId) {
  for (const lesson of lessonsRu) {
    const lessonDoc = await Lesson.findOne({ lessonId: `${COURSE_ID}_DAY_${lesson.day}` });
    if (!lessonDoc) throw new Error(`Lesson not found for day ${lesson.day}`);

    // IMPORTANT:
    // - Quiz UI fetches/submits by `lesson.lessonId` (string), not by Mongo ObjectId.
    // - We also clean up legacy incorrect seeding where lessonId was stored as lessonDoc._id.toString().
    await QuizQuestion.deleteMany({
      courseId: courseObjectId,
      isCourseSpecific: true,
      lessonId: { $in: [lessonDoc.lessonId, lessonDoc._id.toString()] },
    });

    const questions = lesson.quiz.map((q) => ({
      question: q.q,
      options: q.options,
      correctIndex: q.correct,
      difficulty: QuestionDifficulty.MEDIUM,
      category: 'Course Specific',
      showCount: 0,
      correctCount: 0,
      isActive: true,
      lessonId: lessonDoc.lessonId,
      courseId: courseObjectId,
      isCourseSpecific: true,
      metadata: {
        createdAt: new Date(),
        updatedAt: new Date(),
      },
    }));

    await QuizQuestion.insertMany(questions);
    console.log(`‚úÖ Inserted ${questions.length} quiz questions for day ${lesson.day}`);
  }
}

async function main() {
  await connectDB();
  const course = await upsertCourse();
  await upsertLessons(course._id);
  await upsertQuizQuestions(course._id);
  console.log('üéâ Done');
  await mongoose.disconnect();
}

main().catch((err) => {
  console.error(err);
  process.exit(1);
});
