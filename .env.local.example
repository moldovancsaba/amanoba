# Amanoba Environment Variables Template
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control

# =============================================================================
# MongoDB Database
# =============================================================================
# What: MongoDB Atlas connection string for data persistence
# Why: Required for all game data, player profiles, and gamification state
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/amanoba?retryWrites=true&w=majority

# =============================================================================
# Admin Authentication
# =============================================================================
# What: Password for admin dashboard access
# Why: Secures admin panel for game management, analytics, and player administration
ADMIN_PASSWORD=your_secure_admin_password_here

# =============================================================================
# NextAuth Configuration
# =============================================================================
# What: NextAuth.js secret for JWT encryption and session security
# Why: Required for secure authentication with Facebook OAuth
# Generate: openssl rand -base64 32
AUTH_SECRET=your_auth_secret_here
NEXTAUTH_URL=http://localhost:3000

# =============================================================================
# SSO (Single Sign-On) with sso.doneisbetter.com
# =============================================================================
# What: OIDC configuration for SSO provider
# Why: Allows SSO login for Amanoba admin + user roles
SSO_AUTH_URL=https://sso.doneisbetter.com/authorize
SSO_TOKEN_URL=https://sso.doneisbetter.com/token
SSO_JWKS_URL=https://sso.doneisbetter.com/.well-known/jwks.json
SSO_ISSUER=https://sso.doneisbetter.com
SSO_CLIENT_ID=your_sso_client_id
SSO_CLIENT_SECRET=your_sso_client_secret
SSO_REDIRECT_URI=http://localhost:3000/api/auth/sso/callback
SSO_SCOPES=openid profile email roles
# Optional logout endpoints (front-channel)
# SSO_LOGOUT_URL=https://sso.doneisbetter.com/logout
# SSO_POST_LOGOUT_REDIRECT_URI=http://localhost:3000

# =============================================================================
# Facebook Login Integration
# =============================================================================
# What: Facebook App credentials for player authentication
# Why: Enables social login for seamless player onboarding

# Public (client-side)
NEXT_PUBLIC_FACEBOOK_APP_ID=your_facebook_app_id

# Private (server-side only)
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret

# =============================================================================
# Application Configuration
# =============================================================================
# What: Base URL for the application
# Why: Required for OAuth redirects, absolute URLs, and API callbacks
NEXT_PUBLIC_APP_URL=http://localhost:3000

# =============================================================================
# PWA Push Notifications
# =============================================================================
# What: VAPID keys for web push notifications
# Why: Enables push notifications for engagement (achievements, daily challenges, etc.)
# Generate keys: npx web-push generate-vapid-keys

# Public (client-side)
NEXT_PUBLIC_VAPID_PUBLIC_KEY=your_vapid_public_key_here

# Private (server-side only)
VAPID_PRIVATE_KEY=your_vapid_private_key_here
VAPID_SUBJECT=mailto:your-email@example.com

# =============================================================================
# Analytics (Optional)
# =============================================================================
# What: Google Analytics measurement ID
# Why: Tracks user engagement and platform metrics
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# =============================================================================
# Node Environment
# =============================================================================
# What: Environment mode (development, production, test)
# Why: Controls behavior of logging, error handling, and optimizations
NODE_ENV=development

# =============================================================================
# Security & Rate Limiting (Optional Overrides)
# =============================================================================
# What: Rate limit configuration for API endpoints
# Why: Protects against DDoS and abuse
# RATE_LIMIT_MAX_REQUESTS=100
# RATE_LIMIT_WINDOW_MS=60000

# =============================================================================
# Logging Configuration (Optional)
# =============================================================================
# What: Pino logger configuration
# Why: Controls log level and output format
# LOG_LEVEL=info
# LOG_PRETTY=true

# =============================================================================
# Development Tools (Optional)
# =============================================================================
# What: Enable development-only features
# Why: Useful for debugging and testing
# NEXT_PUBLIC_DEBUG_MODE=false
# NEXT_PUBLIC_SHOW_VERSION=true
