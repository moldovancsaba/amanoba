# Course Run Log — PRODUCTIVITY_2026__ALL (Discovery)

- Scope: `PRODUCTIVITY_2026_*` (all languages)
- Started (UTC): `2026-01-27T12:18:59Z`
- Mode: **Discovery + dry-run first** (no DB writes until explicit confirmation)

## Safety Rollback Plan (Mandatory)

No DB writes in this discovery step.

If/when we move to apply-mode:
- Quiz rollback (per lesson):
  - `npx tsx --env-file=.env.local scripts/restore-lesson-quiz-from-backup.ts --file scripts/quiz-backups/<COURSE_ID>/<LESSON_ID__TIMESTAMP>.json`
- Lesson rollback (if we refine lessons):
  - `npx tsx --env-file=.env.local scripts/restore-lesson-from-backup.ts --file scripts/lesson-backups/<COURSE_ID>/<LESSON_ID__TIMESTAMP>.json`

## Progress (2026-01-27)

- **HU**: done (audit → pipeline apply → verification → sample QA).
- **EN**: audit + pipeline apply (no-op, already compliant); post-apply verification and sample QA still unchecked.
- **TR**: audit + pipeline dry-run done. 30 lessons evaluated, **20 need lesson refinement** (&lt; 70), **10 would be rewritten** by pipeline. No TR lesson-refine script yet; refinement tasks in `lesson-refine-tasks__2026-01-27T14-25-38-742Z.md` and pipeline’s `__lesson-refine-tasks.md`.

## Next Step

Choose one (updated):
1) **Option A (TR, recommended)**: Apply TR lesson refinement first (backup-first), then re-run quiz pipeline for the now-eligible days.
2) **Option B**: Skip TR for now and move to the next course (BG).

## Discovery Results (DB)

Found 10 course variants:
- `PRODUCTIVITY_2026_HU` (hu) — active=true, premium=false
- `PRODUCTIVITY_2026_EN` (en) — active=true, premium=false
- `PRODUCTIVITY_2026_TR` (tr) — active=true, premium=false
- `PRODUCTIVITY_2026_BG` (bg) — active=true, premium=false
- `PRODUCTIVITY_2026_PL` (pl) — active=true, premium=true
- `PRODUCTIVITY_2026_VI` (vi) — active=true, premium=false
- `PRODUCTIVITY_2026_ID` (id) — active=true, premium=false
- `PRODUCTIVITY_2026_AR` (ar) — active=true, premium=false
- `PRODUCTIVITY_2026_PT` (pt) — active=true, premium=false
- `PRODUCTIVITY_2026_HI` (hi) — active=true, premium=false

## Process State

- Status: **RUNNING**
- Tasklist: `docs/tasklists/PRODUCTIVITY_2026__ALL__2026-01-27T12-18-59Z.md`
- Environment: **production** (confirmed)
- Current courseId: `PRODUCTIVITY_2026_TR`
- Last completed step: TR dry-run (audit + pipeline) + TR refinement dry-run
  - Latest TR audit: `scripts/reports/lesson-quality-audit__2026-01-27T14-35-13-224Z.json` (18 days < 70: 11, 14–30)
  - Latest TR pipeline dry-run: `scripts/reports/quiz-quality-pipeline__2026-01-27T14-35-42-248Z.json` (18 blocked by lesson score; 12 would rewrite)
  - TR refinement dry-run: `scripts/reports/lesson-refine-preview__PRODUCTIVITY_2026_TR__2026-01-27T14-36-10-672Z.json`
- Next step: **Option A** — Apply TR lesson refinement (production DB write, creates backups), then re-run quiz pipeline; **Option B** — Run lesson audit for BG
- Next command (A): `npx tsx --env-file=.env.local scripts/refine-productivity-2026-tr-lessons.ts --course PRODUCTIVITY_2026_TR --from-day 1 --to-day 30 --apply`
- Next command (B): `npx tsx --env-file=.env.local scripts/audit-lesson-quality.ts --course PRODUCTIVITY_2026_BG --min-score 70`
- Blockers: none
